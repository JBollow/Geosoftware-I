<!DOCTYPE html>
<html lang="en">

<head>
    <!-- @author Jan-Patrick Bollow 349891 -->
    <meta charset="UTF-8" name="Jan-Patrick Bollow" content="La Vuelta Projekt">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>La Vuelta Projekt</title>

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="img/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="img/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="img/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">

    <!-- leaflet and mapbox CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
        crossorigin="" />

    <!--Add draw plugin CSS -->
    <link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.css" />

    <!-- Add icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- MY Stylesheet -->
    <link rel="stylesheet" href="style/Stylesheet.css">

    <!-- Sweetalert -->
    <link rel="stylesheet" type="text/css" href="style/sweetalert.css">
    <script src="js/sweetalert.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn"t work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- loading external scripts -->
    <!-- leaflet and mapbox -->
    <!-- <script src="https://api.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.js"></script> -->
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js" integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
        crossorigin=""></script>

    <!-- GeoJSON Validation Source:https://github.com/mapbox/geojsonhint -->
    <script src="https://unpkg.com/@mapbox/geojsonhint@latest/geojsonhint.js"></script>

    <!--Add draw plugin -->
    <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.js"></script>

</head>

<body>
    <div class="jumbotron jumbotron-main2" id="home">
        <div id="particles-js">
            <canvas class="particles-js-canvas-el" width="1409" height="319" style="width: 100%; height: 100%;"></canvas>
        </div>

        <!-- Header -->
        <header class="container-fluid">
            <h4>LΛ VUELTΛ</h4>
        </header>

        <!-- Navbarcontainer -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation">

            <ul class="nav navbar-nav" style="border-top: 1px solid black;border-bottom: 1px solid black;border-right: 1px solid black;">
                <li class="inactive">
                    <a class="hvr-shutter-out-vertical" href="index.html"><i class="fa fa-home" aria-hidden="true"></i> Home</a>
                </li>
                <li class="inactive">
                    <a class="hvr-shutter-out-vertical" href="map.html#"><i class="fa fa-map-o" aria-hidden="true"></i> Stages</a>
                </li>
                <li class="active">
                    <a href="#"><i class="fa fa-paint-brush" aria-hidden="true"></i> Feature Editor</a>
                </li>
                <li class="inactive">
                    <a class="hvr-shutter-out-vertical" href="map3.html"><i class="fa fa-map-marker" aria-hidden="true"></i> Route Editor</a>
                </li>
                <li class="inactive">
                    <a class="hvr-shutter-out-vertical" href="map4.html"><i class="fa fa-bicycle" aria-hidden="true"></i> Stage Editor</a>
                </li>
                <li class="inactive">
                    <a class="hvr-shutter-out-vertical" href="impressum.html"><b>§</b> Impressum</a>
                </li>
            </ul>
        </nav>

        <!-- Bodycontainer -->
        <div class="container-fluid">

            <div class="row">

                <div class="col-sm-12">

                    <div class="main clearfix">
                        <div id="sb-search" class="sb-search">
                            <form>
                                <input class="sb-search-input" placeholder="Enter your search term..." type="search" value="" name="search" id="search">
                                <input class="sb-search-submit" type="submit" onclick="mysearch($('#search').val())">
                                <span class="sb-icon-search"></span>
                            </form>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row">

                <div class="col-sm-9">

                    <!-- div container map -->
                    <div class="box" style="padding-left: 0px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;">
                        <table class="cleantable">
                            <tr>
                                <td style="padding-bottom: 0px;"><input type="button" class="buttonwhite" value="Clean edit" onclick="removeedit()" style="width: 100%;"></td>
                                <td style="padding: 0px 0px 0px 1px;"><input type="button" class="buttonwhite" value="Clean features" onclick="geojsonLayer.clearLayers();jsonLayers.clearLayers();"
                                        style="width: 100%;"></td>
                            </tr>
                        </table>
                        <div id="map" style="margin-top: -2px;margin-bottom: -1px;"></div>
                    </div>

                    <!-- div container popup-->
                    <div class="box" style="width: 100%; margin-bottom:20px">
                        <table class="cleantable">
                            <tr>
                                <td>
                                    <h2 style="font-size: 22px; margin-top: 10px;">Popupconfigurator:</h2>
                                </td>
                                <td style="vertical-align: top; text-align: right"><button type="button" class="buttonpur" value="Refresh" id="" + id + "" onclick="refreshpopup();"
                                        style="margin: 0px;width: 50;"><i class="fa fa-retweet" aria-hidden="true"></i></button></td>
                            </tr>
                        </table>

                        <br>

                        <table class="cleantable2" style="width: 100%;">
                            <tr>
                                <td style="width: 150px;">Enter a picture:</td>
                                <td><input type="text" id="jsonbild" placeholder="Picture Link..." style="width: 100%;">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>Enter a link:</td>
                                <td>
                                    <table class="cleantable">
                                        <tr>
                                            <td>
                                                <input type="text" id="jsonweblinkname" placeholder="Webpage Name..." style="width: 100%;">
                                            </td>
                                            <td style="padding: 0px 0px 0px 1px;">
                                                <input type="text" id="jsonweblink" placeholder="Webpage Link..." style="width: 100%;">
                                            </td>
                                        </tr>
                                    </table>

                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>Enter a popup text:</td>
                                <td><input type="text" id="jsonpopuptext" placeholder="Popuptext or HTML-Code" style="width: 100%;">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td style="width: 130px;">Additional information:</td>
                                <td>
                                    <table class="cleantable2" style="width: 100%;">
                                        <tr>
                                            <td style="padding-right: 0px;">
                                                <p style="font-size: 12px;display:inline; padding-left: 20px"><b>Type:</b></p>
                                            </td>
                                            <td>
                                                <select id="popuptype" onchange="" style="width: 100%;">
                                    <option value="default" >Default</option>
                                    <option value="parkingplace">Parking place</option>
                                    <option value="hotel">Hotel</option>
                                    </select>
                                            </td>
                                            <td style="padding-left: 10px;">
                                                <p style="font-size: 12px;display:inline; padding-left: 20px"><b>Capacity: </b>
                                                </p>
                                            </td>
                                            <td><input type="number" placeholder="spots / rooms" id="jsoncap" style="width: 100%;">
                                            </td>
                                            <td style="padding-left: 10px;">
                                                <p style="font-size: 12px;display:inline; padding-left: 20px"><b>Price: </b>
                                                </p>
                                            </td>
                                            <td><input type="number" placeholder="Price in €" id="jsonprice" style="width: 100%;">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </div>

                </div>

                <div class="col-sm-3">

                    <!-- div container -->
                    <div class="box" style="width: 100%;">
                        <label class="trans"><input type="text" id="jsonname" required/><div class="label-text">Featurename!</div></label><br>
                        <p style="font-size: 14px;">Save your feature:</p>
                        <table class="cleantable">
                            <tr>
                                <td><button type="button" class="button" value="to DB" id="post2db" onclick="postjson()" style="margin: 0px;width: 100%;"><i class="fa fa-cloud-upload" aria-hidden="true"></i> to DB</button></td>
                                <td style="padding: 0px 0px 0px 1px;">
                                    <a href="#" class="linkjson" id="export">
                                        <p class="linkjsonp"><i class="fa fa-download" aria-hidden="true"></i> to file</p>
                                    </a>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- div container -->
                    <div class="box" style="width: 100%; ">

                        <p style="font-size: 14px;">Load external features:</p>

                        <input type="text" id="jsonlink" placeholder="GeoJSON Link..." style="width: 100%;">
                        <table class="cleantable">
                            <tr>
                                <td style="padding-bottom: 5px;"><button type="button" class="button jsonupbtn" value="" id="jsonlinkbtn" onclick="importjsonlink();"><i class="fa fa-external-link" aria-hidden="true"></i> GeoJSON from link to map </button></td>
                                <td style="padding: 0px 0px 5px 1px;"><button type="button" class="button jsonupbtn" value="" id="jsonlink2dbbtn" onclick="uploadjsonlink();"><i class="fa fa-cloud-upload" aria-hidden="true"></i> GeoJSON from link to DB</button></td>
                            </tr>
                        </table>
                        <br>
                        <input type="text" id="jsontext" placeholder="GeoJSON text..." style="width: 100%">
                        <table class="cleantable">
                            <tr>
                                <td style="padding-bottom: 5px;"><button type="button" class="button jsonupbtn" value="" id="jsontextbtn" onclick="importjsontext();"><i class="fa fa-file-text-o" aria-hidden="true"></i> GeoJSON from text to map</button></td>
                                <td style="padding: 0px 0px 5px 1px;"><button type="button" class="button jsonupbtn" value="" id="jsontext2dbbtn" onclick="uploadjsontext();"><i class="fa fa-cloud-upload" aria-hidden="true"></i> GeoJSON from text to DB</button></td>
                            </tr>
                        </table>
                        <br>

                        <table class="cleantable">
                            <tr>
                                <td style="padding-bottom: 5px;">
                                    <label for="importjsonfile" class="custom-file-upload"><i class="fa fa-upload" aria-hidden="true"></i> GeoJSON from file to map</label><input
                                        id="importjsonfile" type="file" onchange="importjsonfile(event);" /></td>
                                <td style="padding: 0px 0px 5px 1px;"><label for="uploadjsonfile" class="custom-file-upload"><i class="fa fa-cloud-upload" aria-hidden="true"></i> GeoJSON from file to DB</label><input
                                        id="uploadjsonfile" type="file" onchange="uploadjsonfile(event);" />
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- div container -->
                    <div class="box boxscroll1" style="width: 100%; ">
                        <button type="button" class="button" value="" id="jsonloaddb" onclick="getjson()" style="width: 100%;"><i class="fa fa-cloud-download" aria-hidden="true"></i> Reload features</button>

                        <div id="jsonlegenddiv">
                            <p id="jsonlegend"></p>
                        </div>

                        <form action="">
                            <ul class="title-content-list" style="list-style-type: none;margin-left: 5px;width: 100%;" id="jsonlegendelem"></ul>
                        </form>
                        <div id="jsonlegendbtndiv">
                            <p id="jsonlegendbtn"></p>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- /container -->
        <div class="md-overlay"></div>
        <!-- the overlay element -->

        <!-- open/close -->
        <div class="overlay overlay-contentscale" style="overflow: hidden;">
            <div class="row">
                <button type="button" class="overlay-close" style="margin-top:0px;">Close</button><br><br><br><br>
            </div>
            <div class="row">
                <div style="margin: 20px;padding-top: 100px;">

                    <!-- Bodycontainer -->
                    <div class="container-fluid">
                        <div class="row">

                            <div class="col-sm-2">
                            </div>

                            <div class="col-sm-8">
                                <div class="box">
                                    <br>
                                    <h2 style="display:inline;"><b>Searchresults for: </b></h2>
                                    <h3 id="searchresultkey"></h3>

                                    <br><br><br><br>

                                    <p id="searchresults"></p>

                                    <br><br>
                                    <a href="#" id="trigger-overlay"></a>
                                </div>
                            </div>

                            <div class="col-sm-2">
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

<!-- loading external scripts -->
<!-- jQuery (necessary for Bootstrap"s JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>

<!-- loading local scripts -->
<!-- Source: http://jsnlog.com/ -->
<script src="js/jsnlog.min.js"></script>
<script src="js/jsnlog.js"></script>
<script src="js/modernizr.custom.js"></script>
<script src="js/classie.js"></script>
<script src="js/modalEffects.js"></script>

<!-- particles -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://threejs.org/examples/js/libs/stats.min.js"></script>
<script src="js/particles.js"></script>

<!-- loading my scripts -->
<script src="js/gettime.js"></script>
<script src="js/leaflet.js"></script>
<script src="js/leaflet_draw.js"></script>
<script src="js/getjson.js"></script>
<script src="js/postjson.js"></script>
<script src="js/importjson.js"></script>
<script src="js/allpages.js"></script>
<script src="js/delete_edit_json.js"></script>
<script src="js/autoscale.js"></script>
<script src="js/search.js"></script>

<script>
    new UISearch(document.getElementById('sb-search'));
</script>

<script>
    getjson();
    // JSNLog
    logger.info("Feature Editor loaded!");
</script>

</html>